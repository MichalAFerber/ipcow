        :root {
          --bg: #f9f9fb;
          --section-bg: white;
          --text: #333;
          --header: #2c3e50;
          --label: #34495e;
          --table-border: #eee;
          --table-header-bg: #f1f1f1;
          --ua-bg: #f8f8f8;
          --progress-loading: #3498db;
          --progress-success: #27ae60;
          --progress-error: #e74c3c;
          --hover-bg: #e8f4fd;
        }

        [data-theme="dark"] {
          --bg: #121212;
          --section-bg: #1e1e1e;
          --text: #e0e0e0;
          --header: #e0e0e0;
          --label: #cfcfcf;
          --table-border: #333;
          --table-header-bg: #2d2d2d;
          --ua-bg: #2a2a2a;
          --hover-bg: #2c3e50;
        }

        body {
          font-family: system-ui, -apple-system, sans-serif;
          max-width: 900px;
          margin: 20px auto 40px;
          padding: 20px;
          background: var(--bg);
          color: var(--text);
          transition: background 0.3s, color 0.3s;
        }

        h1 {
          text-align: center;
          color: var(--header);
          margin-bottom: 30px;
          font-size: 2.5em;
          font-weight: bold;
        }

        header {
          background: var(--section-bg);
          border-radius: 12px;
          padding: 20px;
          margin: 20px 0;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
          transition: background 0.3s, box-shadow 0.3s;
          cursor: pointer;
        }

        header:hover {
          background: var(--hover-bg);
        }

        h2 {
          text-align: center;
          color: var(--label);
          font-size: 1em;
          font-weight: normal;
          margin: 5px 0 20px;
        }

        .section {
          background: var(--section-bg);
          border-radius: 12px;
          padding: 20px;
          margin: 20px 0;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
          transition: background 0.3s;
        }

        h3 {
          font-weight: bold;
          font-size: 1.2em;
          margin-bottom: 12px;
          color: var(--label);
        }

        table {
          width: 100%;
          border-collapse: collapse;
          font-family: monospace;
          font-size: 1em;
        }

        th,
        td {
          padding: 10px;
          text-align: left;
          border-bottom: 1px solid var(--table-border);
        }

        th {
          background: var(--table-header-bg);
          width: 30%;
        }

        td:nth-child(1) {
          white-space: nowrap;
        }

        .ip-display {
          font-size: 1.6em;
          font-weight: bold;
          color: var(--text);
          margin-bottom: 8px;
          word-break: break-all;
          cursor: pointer;
          position: relative;
          display: inline-block;
          padding: 4px 8px;
          border-radius: 6px;
          transition: background 0.2s;
        }

        .ip-display:hover {
          background: var(--hover-bg);
        }

        #ipv4-container,
        #ipv6-container {
          text-align: center;
        }

        .tooltip {
          position: absolute;
          background: #333;
          color: white;
          padding: 6px 10px;
          border-radius: 4px;
          font-size: 0.8em;
          bottom: 100%;
          left: 50%;
          transform: translateX(-50%);
          opacity: 0;
          z-index: 999;
          /* Ensure it stays above section shadows */
          pointer-events: none;
          transition: opacity 0.2s;
          white-space: nowrap;
          margin-bottom: 6px;
        }

        [data-theme="dark"] .tooltip {
          background: #f0f0f0;
          color: #333;
        }

        .tooltip::after {
          content: '';
          position: absolute;
          top: 100%;
          left: 50%;
          margin-left: -5px;
          border-width: 5px;
          border-style: solid;
          border-color: #333 transparent transparent transparent;
        }

        [data-theme="dark"] .tooltip::after {
          border-color: #f0f0f0 transparent transparent transparent;
        }

        .spinner {
          display: none;
          width: 20px;
          height: 20px;
          border: 3px solid #e0e0e0;
          border-top: 3px solid var(--progress-loading);
          border-radius: 50%;
          animation: spin 1s linear infinite;
          margin-top: 10px;
        }

        [data-theme="dark"] .spinner {
          border-color: #333;
        }

        .loading .spinner {
          display: block;
        }

        @keyframes spin {
          0% {
            transform: rotate(0deg);
          }

          100% {
            transform: rotate(360deg);
          }
        }

        .ua-value {
          font-family: monospace;
          background: var(--ua-bg);
          padding: 2px 6px;
          border-radius: 4px;
        }

        .info-icon {
          opacity: 0.7;
          font-size: 0.8em;
          margin-left: 4px;
        }

        .info-icon:hover {
          opacity: 1;
        }

        #map {
          height: 300px;
          border-radius: 12px;
          margin-top: 20px;
        }

        .theme-toggle {
          position: fixed;
          bottom: 20px;
          right: 20px;
          background: var(--section-bg);
          border: 1px solid var(--table-border);
          border-radius: 50px;
          width: 60px;
          height: 34px;
          cursor: pointer;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
          display: flex;
          align-items: center;
          padding: 4px;
          transition: background 0.3s;
        }

        .theme-toggle::before {
          content: 'üåô';
          font-size: 20px;
          transition: transform 0.3s;
        }

        [data-theme="dark"] .theme-toggle::before {
          content: '‚òÄÔ∏è';
          transform: translateX(26px);
        }

        footer {
          text-align: center;
          margin-top: 40px;
          padding: 20px;
          font-size: 0.9em;
          color: #777;
        }

        footer a {
          color: var(--label);
          text-decoration: none;
        }

        footer a:hover {
          text-decoration: underline;
        }

        @media (max-width: 600px) {
          .ip-display {
            font-size: 1.3em;
          }

          table {
            font-size: 0.9em;
          }

          th {
            width: 40%;
          }

          #map {
            height: 250px;
          }

          body {
            margin: 10px auto 60px;
          }
        }